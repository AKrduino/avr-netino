/*********************************************-*- mode:c -*-
 * board_arduino.h
 * this file contains all board specific definitions
 * not the cpu spcific ones!
 *
 * you must define one of the folowing macros to 
 * use this file:
 *
 * Names for special pins or hardware constants:
 *   -  as const static:
 *      #define defConstant(N,V) const static uint8_t N = V;
 *   -  as enum element
 *      #define defConstant(N,V) N = V,
 * defConstants		get all pin fuctions by names
 *
 * pinDef(p,b,t,f,u,...)	define a pin by port,bit,timer,function,usage...
 *   - all in 1 byte (for m168/m328/m32/m644(p)
 *     #define pinDef(P,B,T,...)	((((P)-1)<<5) | (B) | ((T)<<3))
 *   - all in 2 byte (for m1280/m2560
 *     #define pinDef(P,B,T,...)	((((P)-1)<<8) | (B) | ((T)<<3))
 *   - only port for digital_pin_to_port_PGM[]
 *     #define pinDef(P,...)	(P)
 *   - only bit mask for digital_pin_to_bit_mask_PGM[]
 *     #define pinDef(P,B,...)	_BV(B)
 *   - only timer for digital_pin_to_timer_PGM[]
 *     #define pinDef(P,B,T,...)	(T)
 *
 ***********************************************************
 * Board:	Arduino 1/2009/10000 ... (all with m8/m168/m328)
 * (C) M. Maassen	mic.maassen@gmail.com
 * On the Arduino board, digital pins are also used
 * for the analog output (software PWM).  Analog input
 * pins are a separate set.
  /* ATmega with 3 Ports = Arduino */
// ATMEL ATMEGA8 & 168 / ARDUINO
//
//                  +-\/-+
// RST        PC6  1|    |28  PC5 (AI 5)
//      (D 0) PD0  2|    |27  PC4 (AI 4)
//      (D 1) PD1  3|    |26  PC3 (AI 3)
//      (D 2) PD2  4|    |25  PC2 (AI 2)
// PWM+ (D 3) PD3  5|    |24  PC1 (AI 1)
//      (D 4) PD4  6|    |23  PC0 (AI 0)
//            VCC  7|    |22  GND
//            GND  8|    |21  AREF
// XTAL1      PB6  9|    |20  AVCC
// XTAL2      PB7 10|    |19  PB5 (D 13)
// PWM+ (D 5) PD5 11|    |18  PB4 (D 12)
// PWM+ (D 6) PD6 12|    |17  PB3 (D 11) PWM
//      (D 7) PD7 13|    |16  PB2 (D 10) PWM
//      (D 8) PB0 14|    |15  PB1 (D 9) PWM
//                  +----+
//
// (PWM+ indicates the additional PWM pins on the ATmega168.)

/***********************************************************
 * things we want allways 
 ***********************************************************/
#ifndef ARDUINO_X8
// Arduino board with ATmega x8 
#define ARDUINO_X8	0x20110208	/* Date 2011-02-08 */
#endif

#ifdef pinDef
/***********************************************************
 * mapping from pin number to Port,Bit,Timer(PWM),...
 ***********************************************************/
/* ATmega with 3 Ports (m8/m168/m328) = Arduino Uno/Duemillanove/... */
/* 0 */
pinDef( D, 0 , NOT_ON_TIMER ,	RXD	, RS232_RxD)
pinDef( D, 1 , NOT_ON_TIMER ,	TXD	, RS232_TxD)
pinDef( D, 2 , NOT_ON_TIMER ,	INT0	, D2)
#ifdef COM2B1
pinDef( D, 3 , TIMER2B	    ,	INT1	, D3)
#else
pinDef( D, 3 , NOT_ON_TIMER ,	INT1	, D3)
#endif
pinDef( D, 4 , NOT_ON_TIMER ,	T0	, D4)
#ifdef COM0B1
pinDef( D, 5 , TIMER0B	    ,	T1	, D5)
pinDef( D, 6 , TIMER0A	    ,	AIN0	, D6)
#else
pinDef( D, 5 , NOT_ON_TIMER ,	T1	, D5)
pinDef( D, 6 , NOT_ON_TIMER ,	AIN0	, D6)
#endif
pinDef( D, 7 , NOT_ON_TIMER ,	AIN1	, D7)

  /* pin 8 */
pinDef( B, 0 , NOT_ON_TIMER ,	ICP1	, D8)
pinDef( B, 1 , TIMER1A      ,	OC1A	, D9)
pinDef( B, 2 , TIMER1B      ,	SS	, D10)
#ifdef COM21
pinDef( B, 3 , TIMER2	    ,	MOSI	, D11)
#else
pinDef( B, 3 , TIMER2A      ,	MOSI	, D11)
#endif

pinDef( B, 4 , NOT_ON_TIMER ,	MISO	, D12)
pinDef( B, 5 , NOT_ON_TIMER ,	SCK	, LED)

  /* pin 14 = A0 */
pinDef( C, 0 , NOT_ON_TIMER ,	ADC0	, A0)
pinDef( C, 1 , NOT_ON_TIMER ,	ADC1	, A1)
pinDef( C, 2 , NOT_ON_TIMER ,	ADC2	, A2)
pinDef( C, 3 , NOT_ON_TIMER ,	ADC3	, A3)
pinDef( C, 4 , NOT_ON_TIMER ,	SDA	, A4)
pinDef( C, 5 , NOT_ON_TIMER ,	SCL	, A5)

#endif /* pinDef */
#ifdef defConstant
/***********************************************************
 * define constants for special pins
 ***********************************************************/
#ifndef defClass
#define defClass(C,N) C##_##N
#endif 

defConstant(_avoid_empty_enum_,0)
#endif	/* defConstant */
/***********************************************************
 * clean up Xmacros
 ***********************************************************/
#undef pinDef
#undef defConstant
#undef defClass
#undef All_Constants
